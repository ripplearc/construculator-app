<?xml version="1.0" encoding="UTF-8"?>
<mutations version="1.0">
   <files>
        <file>lib/libraries/supabase/testing/fake_supabase_initializer.dart</file>
    </files>
    <rules>
        <regex pattern="if \(shouldThrowOnInitialize\)" id="fake_supabase_initializer.invertShouldThrow">
            <mutation text="if (!shouldThrowOnInitialize)"/>
        </regex>
        <regex pattern="(\w+)\s*=\s*false;" id="generic.assignment.toggleBooleanFalseToTrue">
            <mutation text="$1 = true;"/>
        </regex>
        <regex pattern="(\w+|\([^)]+\))\s*\?\?\s*([^;)]+)" id="generic.nullCoalescing.forceLeft">
            <mutation text="$1"/>
        </regex>
        <regex pattern="(\w+|\([^)]+\))\s*\?\?\s*([^;)]+)" id="generic.nullCoalescing.forceRight">
            <mutation text="$2"/>
        </regex>
        <regex pattern="(last\w+)\s*=\s*\w+;" id="generic.assignment.skipLastFieldAssignment">
            <mutation text=""/>
        </regex>
        <regex pattern="return _fakeClient;" id="fake_supabase_initializer.returnNewClient">
            <mutation text="return FakeSupabaseClient();"/>
        </regex>
        <regex pattern="throw\s+(?:[a-zA-Z_]\w*\.)?Exception\(\s*(''|&quot;[^&quot;]*&quot;|'[^']*')\s*\);" id="generic.exception.mutateMessageStringLiteral">
            <mutation text="throw Exception(&quot;mutatedExceptionString&quot;);"/>
        </regex>
        <regex pattern="(\w+)\s*=\s*null;" id="generic.assignment.mutateNullToNonNullString">
            <mutation text="$1 = &quot;wasNullNowString&quot;;"/>
        </regex>
    </rules>

    <commands>
           <command group="fake_supabase_initializer" expected-return="0">flutter test test/units/libraries/supabase/fakes/fake_supabase_initializer_test.dart</command>
    </commands>

    <threshold failure="85">
        <rating over="85" name="A"/>
        <rating over="75" name="B"/>
        <rating over="65" name="C"/>
        <rating over="55" name="D"/>
        <rating over="35" name="E"/>
        <rating over="0" name="F"/>
    </threshold>
</mutations> 